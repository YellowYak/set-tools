<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Multiplayer — Set</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@600&family=Source+Sans+3:wght@400;600&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="css/style.css">
  <link rel="icon" type="image/svg+xml" href="favicon.svg">
</head>
<body>

<!-- ── Hidden SVG Defs (required by card-render.js) ── -->
<svg width="0" height="0" style="position:absolute;overflow:hidden" aria-hidden="true">
<defs>
  <pattern id="hatch-red" x="0" y="0" width="12" height="1.5" patternUnits="userSpaceOnUse">
    <line x1="0" y1="0.75" x2="12" y2="0.75" stroke="#C93030" stroke-width="0.5"/>
  </pattern>
  <pattern id="hatch-green" x="0" y="0" width="12" height="1.5" patternUnits="userSpaceOnUse">
    <line x1="0" y1="0.75" x2="12" y2="0.75" stroke="#2A7A2A" stroke-width="0.5"/>
  </pattern>
  <pattern id="hatch-purple" x="0" y="0" width="12" height="1.5" patternUnits="userSpaceOnUse">
    <line x1="0" y1="0.75" x2="12" y2="0.75" stroke="#7040A0" stroke-width="0.5"/>
  </pattern>
  <path id="oval" d="M 3,1 L 9,1 A 3,3 0 0 1 9,7 L 3,7 A 3,3 0 0 1 3,1 Z"/>
  <path id="diamond" d="M 6,0.5 L 11,4 L 6,7.5 L 1,4 Z"/>
  <path id="squiggle" d="M2,6.3C1.4,6.3,0.9,6,0.5,5.5C0,4.7,0.2,3.6,1,3c1.9-1.3,4-1.7,6-0.6c0.7,0.4,1.3,0.2,1.9-0.3c0.7-0.6,1.8-0.5,2.5,0.2
    c0.6,0.7,0.5,1.8-0.2,2.5C9.4,6.3,7.3,6.6,5.3,5.5C4.5,5.1,3.7,5.4,3,6C2.7,6.2,2.3,6.3,2,6.3z"/>
</defs>
</svg>

<!-- ── Site Header ── -->
<header class="site-header">
  <a href="index.html" class="logo">Set</a>
  <nav class="site-nav" aria-label="Main navigation">
    <a href="index.html">Home</a>
    <a href="play.html">Play</a>
    <a href="solve.html">Solve</a>
    <a href="lobby.html" class="active">Multiplayer</a>
  </nav>
</header>

<!-- ── Page Content ── -->
<main class="page-content">

  <!-- Score panel — populated dynamically, one .score-card per player -->
  <div id="mp-score-panel" class="mp-score-panel" aria-live="polite" aria-label="Scores"></div>

  <!-- Status bar: deck count + elapsed timer -->
  <div class="controls mp-controls">
    <span class="game-status" id="mp-status" aria-live="polite"></span>
    <span class="game-status mp-timer" id="mp-timer" aria-label="Elapsed time"></span>
  </div>

  <!-- Card board -->
  <div id="board" role="region" aria-label="Game board"></div>

</main>

<!-- ── Game Over Modal ── -->
<div class="modal-overlay hidden" id="modal-overlay"
     role="dialog" aria-modal="true" aria-labelledby="modal-title">
  <div class="modal">
    <h2 id="modal-title">Game Over</h2>
    <p id="modal-result" style="color:#a8c8a0;font-size:1rem;margin-bottom:16px;font-style:italic"></p>
    <div class="final-scores" id="modal-scores"></div>
    <p id="modal-save-nudge" style="color:#88bb80;font-size:0.82rem;margin-top:12px;min-height:1.2em"></p>
    <a href="lobby.html" class="btn btn-primary"
       style="display:block;text-align:center;margin-top:24px">Back to Lobby</a>
    <a href="index.html" class="modal-home-link">← Home</a>
  </div>
</div>

<script type="module" src="js/multi-play.js"></script>
<script type="module" src="js/auth.js"></script>
</body>
</html>
